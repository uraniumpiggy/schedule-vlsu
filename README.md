# :man_student::iphone::fire: Расписание ВЛгУ
Приложение для просмотра удобного простмотра расписания занятий унивеситета ВлГУ
### Backend:
* Node.js
* TypeScript
* express
* MongoDB

### Frontend web:
* Angular

 ### Список задач:
 - [x] Определить границы ячейки, ее цвет и текст
 - [x] Определить в тексте ячейки отдельно тип пары, преподаватели, название пары, кабинет, учесть записи типа с 10 недю по 18 нед. Если пар в одной ячейке несколько - разделить их
 - [ ] Сформировать расписание для групп на четную и нечетную неделю
 - [ ] Сформировать расписание для преподавателей

 > ### Запуск проекта
 > 1. В рабочей папке выполните команду git clone https://github.com/uraniumpiggy/schedule-vlsu.git
 > 2. Скрипт ./docker/vlsu/run.sh запускает backend, frontend, mongodb и mongo-express. Backend будет доступен на порту 3000, а frontend на порту 3001

 ### Работа с БД
 Была использована mongodb, все данные о базе данных храняться локально в папке /docker/vlsu/db/datadir. Если надо сбросить бд, можно просто удалить эту папку и перезапустить проект.
 Доступ к базе данных можно получить из браузера по адресу http://localhost:8081. При первом запуске бд там cтоит создать новую базу данных schedule-vlsu.
 
 #### Миграции
 Для работы с миграциями использутеся библиотека mongodb-migrations (https://github.com/emirotin/mongodb-migrations). Для упращения работы с миграциями можно использовать скрипт `docker/vlsu/mm.sh`. 
 Пример:
 ```sh
docker/vlsu/mm.sh create init
 ```
 Этот скрипт создаст новую миграцию в папке /backend/migrations.
```sh
docker/vlsu/mm.sh
 ```
 Этот скрипт применит миграции.

 ### Структура backend проекта
 - app - endpoints для запросов
 - institutesTimetables - pdf файлы с расписанием для каждого института
 - lib - пользовательские библиотеки
 - index.ts - точка входа, запускает сервер

### Текущий результат:
![image](https://user-images.githubusercontent.com/98849146/152606879-f92b1924-ecc2-43c2-b276-fcfd1ae7ad4a.png)
